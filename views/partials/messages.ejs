<% if(typeof errors != 'undefined' && errors.length > 0) { %>
  <div class="alert alert-danger alert-dismissible fade show">
    <% errors.forEach(function(error) { %>
      <%= error.msg %><br>
    <% }); %>
    <button type="button" class="close-btn" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true"><i class="fas fa-times"></i></span>
    </button>
  </div>
<% } %>

<% if(messages.error) { %>
  <div class="alert alert-danger alert-dismissible fade show">
    <%= messages.error %>
    <button type="button" class="close-btn" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true"><i class="fas fa-times"></i></span>
    </button>
  </div>
<% } %>

<% if(messages.error_msg) { %>
  <div class="alert alert-danger alert-dismissible fade show">
    <%= messages.error_msg %>
    <button type="button" class="close-btn" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true"><i class="fas fa-times"></i></span>
    </button>
  </div>
<% } %>

<% if(messages.success_msg) { %>
  <div class="alert alert-success alert-dismissible fade show">
    <%= messages.success_msg %>
    <button type="button" class="close-btn" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true"><i class="fas fa-times"></i></span>
    </button>
  </div>
<% } %>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const closeButtons = document.querySelectorAll('.close-btn');
    
    closeButtons.forEach(button => {
      button.addEventListener('click', function() {
        const alert = this.parentElement;
        alert.classList.remove('show');
        setTimeout(() => {
          alert.style.display = 'none';
        }, 150);
      });
    });
    
    // Auto close alerts after 5 seconds
    setTimeout(() => {
      document.querySelectorAll('.alert').forEach(alert => {
        alert.classList.remove('show');
        setTimeout(() => {
          alert.style.display = 'none';
        }, 150);
      });
    }, 5000);
  });
</script>